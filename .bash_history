touch empty-file
ls empty-file
cat empty-file
'hello world' > empty-file
echo 
echo 'Hello, World!' >> empty-file
cat empry-file
cat empty-file
зцв
pwd
cat empty-file
rm empty-file
cat empty-file
ls -al
ls
touch file
cat file
echo 'Hello!' > file
cat file
mv file Hello file
mv file renamed-Hello-file
ls
tree
pwd
ls -al
tree
sudo tree
tree
sudo apt istall tree
pwd
tree
cd
pwd
cd
pwd
утм
env
cd /
pwd
env
cd home
cd passwr
pwd
env
mkdir faildirectory
pwd
cd faildirectory
echo $HOME
pwd
cd
pwd
HOME=/tmp
pwd
ecgo $HOME
echo $HOME
pwd
cd
pwd
cd
pwd
cd /
pwd
cd home
cd
cd passwr
cd /passwr
pwd
cd
cd ..
pwd
cd home
pwd
cd passwr
pwd[A
B
history
history 5
sudo apt-get update
history 5
wsl
pwd
history 6

rm .bash_history
ls
cat .bash_history
history
rm /.bassh_history
rm ~/.bash_history
cd
pwd
ls
pwd
ls
cd ..
pwd
cd /home
cd passwr
ls
ls -al
.bash_history
ls ~/.bash_history
pwd
ls
rm -r faildirectory
ls
rm renamed-Hello-file
ls
pwd
ls -al
cd
pwd
rm -r /tmp
rm /tmp
/tmp=HOME
mv /tmp HOME
pwd
ls
ls -al
cd..
cd ..
pwd
ls
cd /tmp
cat .bash_history
cd ..
cat .bash_history
ls
ls -al
whoami
ps
ps aux
ip
id
cat /etc/passwr
cat /etc/passwd
sudo -i
pwd
tee
tree
sudo apt install tree
man tree
sudo apt tree
apt install tree
yes
pwd
tree
apt install tree
sudo apt install tree
apt install tree
type cd
type pwd
type cp
pwd
ls cat
ls path
ls PATH
find PATH
sudo apt install git
brew install git
sudo apt update
sudo passwr root
sudo passwd root
wsl --help
wsl update
wsl -l -v
wsl
sudo apt update
sudo apt install git-all
ubuntu --version
Ubuntu --version
lsb_release-a
wsl -l -v
wsl --help
sudo apt update
cat /etc/os-release
R
sudo passwd username
clear
whoami
echo $USER
sudo apt update
sudo apt install git-all
git --version
git config --global user.name "<Дониёр Шавкати>"
git config --global user.email "<doniyorshavkati@gmail.com>"
ssh-keygen -t ed25519 -C "doniyorshavkati@gmail.com"
eval "$(ssh-agent -s)"
ssh-add ~/.ssh/id_ed25519
cat ~/.ssh/id_rsa.pub
cat ~/.ssh/id_ed25519
ssh-keygen -y -f ~/.ssh/id_rsa
The key fingerprint is:The key fingerprint is:
cat /home/passwr/.ssh/id_ed25519
cat /home/passwr/.ssh/id_ed25519.pub
pwd
ls
ls -al
git init
mkdir hexlet-git
cd hexlet-git
git init
git status
ls
ls -al
echo 'Hello, Hexlet!' > README.md
echo 'Haskell, Curry' > PEOPLE.md
sit status
git status
git add PEOPLE.md
git status
git commit -m 'add PEOPLE.md'
git add README.md
git status
git commit -m 'add README.md'
git status
tree
sodu install tree
sudo install tree
sudo apt install tree
tree
clear
git remote add origin git@github.com<Doniyors>/hexlet-git.git
git remote add origin git@github.com:<Doniyors>/hexlet-git.git
git remote add origin git@github.com:Doniyors/hexlet-git.git
git branch -M main
git push -u origin main
git status
git push -u origin main 
git push -u origin main
echo "# hexlet-git" >> README.md
git init
git add README.md
git commit -m "first commit"
git branch -M main
git remote add origin https://github.com/Doniyors/hexlet-git.git
git push -u origin main
pwd
ls
cd hexlet.git
cd hexlet-git
ls
remove hexlet-git
rm hexlet-git
cd ..
ls
rm hexlet-git
rm -r hexlet-git
rmdir hexlet-git
rm -r -f hexlet-git
ls
git clone git@github.com:Doniyors/hexlet-git.git
ls
cd hexlet-git
touch NEW.md
ls
cd ..
ls
ls -al
ls
cd hexlet-git
ls
echo 'NEW file' > NEW.md
ls
cat NEW.md
git commit -m 'Add new feature'
git commit -m 'add NEW.md'
git commit 
git status
git add NEW.md
git status
git commit -m 'add NEW.md'
ls
git branch --set-upsteam-to=origin/main
git branch --set-upstream-to=origin/main
ls
git push
git push origin main
ls
git status
tree
clean
git restore PEOPLE.md
git status
git add PEOPLE.md
rm NEW.md
git stauts
git status
restore NEW.md
git status
git add NEW.md
git status
restore NEW.md
sudo apt install dump
restore NEW.md
ls
ls -al
git restore NEW.md
git branch --set-upstream-to=origin/main
git status
git restore --staged NEW.md
git status
git add NEW.md
git status
ls
git restore --staged NEW.md
ls
git status
git restore NEW.md
ls
cat NEW.md
rm NEW.md
ls
git add NEW.md
git staatus
git status
echo 'git is awesome' > INFO.md
ls
cat INFO.md
echo '!' >> INFO.md
cat INFO.md
echo 'git is awesome!' > INFO.md
cat INFO.md
git push origin main
ls
git push
ls
cd ..
ls
cd hexlet-git
ls
git status
git add INFO.md
git status
git commit -m 'rm NEW.md'
git commit -m 'add INFO.md'
git status
git push
echo 'new file' >> INFO.md
echo 'Hello, Hexlet! How are you?' > README.md
git status
git diff
git diff staged
git diff --staged
git diff
git add new content
git commit -m 'add new content'
git add INFO.md
git add README.md
git status
git commit -m 'add new content'
git status
git push
git status
pwd
ls
ls -al
git log
git status
ls
ls -al
cd hexlet-git
git log
git log -p
ls
git show
git show5120bea
git show 5120bea
tree
git blame INFO.md
git show b5aad250
git grep new
git git@github.com:Hexlet/ru-local-communities.git
git clone git@github.com:Hexlet/ru-local-communities.git
ls
cd ru-local-communities
ls
cd ..
ls
cd ru-local-communitie 
cd ru-local-ccommunities
cd ru-local-communities
ls
cat README.md
ls
git blame README.md
git show f27251f8
git log
git log -p
git revert 003e5d2e763c8bf6b18aa3bf04c47433dd705fa6
ls
git blame README.md
cd ..
ls
git status
git add ru-local-communities
git status
git commin -m 'add ru-local-communities'
git commit -m 'add ru-local-communities'
ls
git status
pwd
git status
ls
cat INFO.md
echo 'new thing' >> INFO.md
cact INFO.md
cat INFO.md
git status
git add INFO.md
git commit -m 'fix INFO.md'
ls
git reset --hard HEAD~
git status
git log
git blame hexlet.txt
ls
git blame INFO.md
cat INFO.md
cd ..
ls
grep new thing
git grep new thing
git status
ls
cd hexlet.txt
cd hexlet-git
ls
cat INFO.md
git status
git blame INFO.md
echo 'no code no pain' > README.md
git add README.md
git commit -m 'update README.md'
git reset HEAD~
git status
git restore README.md
cat README.md
echo 'No code No pain' > README.md
git add README.md
git commit -m 'update README.md'
git push
git status
pwd
cd ..
ls
cd ..
ls
ls -al
cd ..
ls
pip install python-telegram-bot
sudo apt install python-telegram-bot
import telegram
sudo apt install python3-pip
pip install python-telegram-bot
pip3 install python-telegram-bot
знерщт3
python3
pwd
ls
cd /vsc
find /bot.py
find bot.py
pwd
ls
cd home
ls
cd passwr
ls
cd hexlet-git
ls
echo 'experiment with amend' >> INFO.md
echo 'experiment with amend' >> README.md
git add INFO.md
git commit -m 'add content to INFO.md and README.md'
git status
git add README.md
git status
git commit --amend
git status
git push
git status
git push
pwd
ls
cd ru-local-communities
ls
cat README.md
cd ..
ls
rm -fd re-local-communities
ls
rm -fd ru-local-communities
rm -r ru-local-communities
ls
cat INFO.md
git status
git add ru-local-communities
git commit -m 'remove ru-local-communities'
git push
git main
git origin/main
git status
stree
tree
git pull
git push
git branch
git push
git clone git@github.com:Doniyors/hexlet-git.git
git pull
git status
git add hexlet-git
git status
git commit -m 'add hexlet-git'
git push
git status
git push origin main
git status
pwd
ls
cd hexlet-git
git status
ls
pwd
ls
cd hexlet-git
ls
rm -r ru-local-communities
ls
cat INFO.md
git status
git add ru-local-communities
git commit -m 'rm ru-local-communities'
git push
ls
git status
ls
pwd
cd ..
ls
cat INFO.md
ls
git status
git add hexlet-git
git commit -m 'fix hexlet-git'
git status
git push
cd ..
git status
pwd
ls
cd hexlet-git
ls
git status
ls
cd hexlet-git
ls
git status
ls
git push
git remove -v
git remote -v
св
ls
git status 
git branch -vv
ls
cd ..
ls
git push
git 
git status
ls
cd hexlet-git
ls
git status
ls
git push
git rm -r hexlet-git
ls
cd ..
ls
git rm -r hexlet-git
ls
git submodule deinit hexlet-git
git rm hexlet-git
rm -r hexlet-git
ls
git push
git status
git add hexlet-git
git commit -m 'rm hexlet-git'
git status
git push
cat README.md
echo 'No code No pain' > README.md
ls
cat INFO.md
echo 'git is awesome!' > INFO.md
echo 'new file' >> INFO.md
cat INFO.md
git status
git add INFO.md
git commit -m 'add content INFO.md and README.md'
git status
git add README.md
git commit --amend
git status
git push
pwd
ls
cd hexlet-git
ls
git log
git log --oneline
git checkout a35e3a0
git checkout main
git branch
hexlet-git git:(main)
git log --oneline
git checkout 7f88636
git branch
git log --onleline
git log --oneline
ls
cat INFO.md
git checkout fd7d413
ls
cat README.md
git log --oneline
$PS1
bash complexion
bash completion
g
sudo apt update
sudo apt install bash-completion
cat ~/.bashrc
cat
~/.bashrc
cd ..
pwd
cd ~
pwd
~
nano ~/.bashrc
source ~/.bashrc
source `/.bashrc






source ~/.bashrc
ls
pwd
python3 --version
update python3
sudo update python3
pwd
python3
pwd
pip --version
sudo apt install python3-pip
pip --version
python3 -m pip --version
cowsay --version
python3 -m pip install --user cowsay
cowsay --version
ls
ls -al
cowsay
help
help name
cowsay
cowsay help
python3 -m pip install --user --upgrade pip
pip --version
python3 -m pip install --user --index-url https://test.pypi.org/simple dogesay
dogesay foo bar baz
python3 -m pip install --user git+https://github.com/hexlet-boilerplates/python-package.git
tree env
pwd
ls
cd ..
tree env
ls
ls -al
tree env -all
ls
cd passwr
ls
cd hexlet-git
ls
tree env
env
pwd
cd ..
ls
sudo apt install python3-venv
python3 -m venv --help
tree
pwd
tree env
tree venv
python3 -m venv first_venv
pwd
first_venv/bin/pip install cowsay
first_venv/bin/cowsay hello
first_venv/bin/python
pwd
ls
tree
ls
cd first_venv
ls
pwd
tree
pwd
ls
ls -al
cd bin
ls
sourse first_venv/bin/activate
source first_venv/bin/activate
source activate
cowsay hello
deactivate
ls
pwd
python3 -m venv
python3 -m venv --help
python3 -m venv --version
cd ENV_DIR
ls 
cd ..
ls
pwd
cd ..
ls
tree
ls
pwd
ls
ls -al
pwd
ls
зцв
pwd
ls
cd first_venv
ls
ls 
touch Module.py
ls
echo "print(f"__name__== '{__name__}'") >> Module.py


cat Module.py
vim Module.py
cat Module.py
python3
python3 Module.py
. /home/passwr/first_prosject/.venv/bin/activate
exit
. /home/passwr/first_prosject/hello/.venv/bin/activate
ipython
cat pyproject.toml
quit
exit
. /home/passwr/first_prosject/hello/.venv/bin/activate
exit
. /home/passwr/first_prosject/hello/.venv/bin/activate
ls
cd scripts
ls
cat say_helli.py
cat say_hello.py
poetry run python -m hello.scripts.say_hello
exit
. /home/passwr/first_prosject/hello/.venv/bin/activate
pip install flake8
flake8 --version
cd ..
ls
pip install flake8
exit
. /home/passwr/first_prosject/hello/.venv/bin/activate
poetry add flake8 --dev
cd ..
poetry add --group=dev flake8
cat pyproject.toml
ls
cd hello
ls
flake8 --version
which flake8
[flake8]
ls
touch setup.cfg
vim setup.cfg
git add all
git add -all
git add --all
poetry run flake8
cd ..
ls
cd ..
ls
cd first_venv
ls
cd ..
ls
mv first_prosject hexlet-git
ls
mv hexlet-git first_venv
ls
cd first_venv
ls
cd hexlet-git
ls
git add --all
pwd
exit
pwd
ls
cd first_venv
ls
cat Module.py
cd ..
ls
cd ..
ls
cd passwr
ls
pip install ipython
ipython
PATH
ipyhton --version
ipython --version
which ipython
poetry --version
Poetry version
sudo apt install python3-poetry
poetry --version
which poetry
pwd
poetry config --list
poetry config virtualenvs.in-project true
l
ls
poetry new first_prosject
cd first_project
ls
cd first_proskect
cd first_prosject
ls
cat README.md
cat README.rst
ls
tree
ls
ls -al
mv README.rst README.md
ls
[tool.poetry]
tool.poetry
cat tool.poetry.dependencies
ls
ls -al 
cat pyproject.toml
poetry install
poetry shell
poetry new hello
ls
cd hello
poetry install
ды
ls
cd hello
ls
poetry add colorama
cat pyproject.toml
ls
cd..
ls
cd ..
ls
cat pyproject.toml
ls
poetry remove colorama
cat puproject.toml
pwd
cd ..
cat pyproject.toml
poetry add --group dev pytest
ls
cd hello
poetry add --group dev pytest
cd ..
cat pyproject.toml
poetry run pytest
pwd
poetry run which pytest
poetry remove --group dev pytest
poetry update
ды
s
ls
cd first_prosject
ls
cd ..
cd hello
ls
Poetry и управление зависимостями—
Python: Настройка окружения
В этом уроке мы более подробно рассмотрим работу с зависимостями с помощью poetry. Заданием прошлого урока было создание проекта с именем hello. Примеры из этого урока будут показаны применительно к тому проекту-примеру.
Добавление и удаление зависимостей
Добавим к проекту hello зависимость — пакет colorama. Это популярная библиотека, которая позволяет раскрасить текст в терминале. Добавим зависимости командой poetry add ИМЯ:
poetry add colorama
Using version ^0.4.5 for colorama
Updating dependencies
Resolving dependencies... (0.8s)
Writing lock file
Package operations: 1 install, 0 updates, 0 removals
Теперь взглянем на секцию tool.poetry.dependencies файла pyproject.toml. Там окажется следующее:
[tool.poetry.dependencies]
python = "^3.10"
colorama = "^0.4.5"
Как видите, colorama не только установилась в виртуальное окружение, но еще и появилась в списке зависимостей проекта. Если кто-то захочет запустить ваш код, он просто выполнит команду poetry install и получит все необходимые зависимости.
Обратите внимание на текст "^0.4.5". Он означает не только конкретную версию 0.4.5, но и все версии, совместимые с ней.
Для версии 0.4.5 совместимыми будут считаться версии вплоть до "0.5.0". Так же можно указывать конкретную версию, перечислить несколько допустимых версий или вручную указать диапазон. Все это разнообразие описано в документации.
Теперь попробуем удалить зависимости командой poetry remove ИМЯ. Из файла pyproject.toml удаляемые пакеты тоже автоматически уберутся:
poetry remove colorama
Updating dependencies
Resolving dependencies... (0.1s)
Writing lock file
Package operations: 0 installs, 0 updates, 1 removal
Группы зависимостей
Многие инструменты для разработки Python-проектов написаны на Python. При этом для запуска кода они, как правило, не требуются.
Возьмем, к примеру, pytest — популярный фреймворк для написания тестов. У этого пакета много собственных зависимостей. В большом проекте подобные инструменты разработки могут занимать приличное количество места.
Проблема в том, что все эти зависимости пользователю не нужны — он же не будет запускать тесты. Тем не менее пользователь получает все зависимости вместе с программой и тратит место на хранение зависимостей.
К счастью, Poetry позволяет описать такие пакеты в виде группы зависимостей. Все созданные группы будут учтены при создании виртуального окружения, но к конечному пользователю попадут только зависимости из основной группы — то есть из [tool.poetry.dependencies].
Добавим пакет pytest к проекту hello. Укажем для него группу dev — это сокращение от слова development, так принято называть инструменты и среду разработки. Посмотрим, как это работает:
poetry add --group dev pytest
Using version ^7.1.3 for pytest
Updating dependencies
Resolving dependencies... (0.8s)
Writing lock file
...
Когда будете выполнять команду самостоятельно, обратите внимание, сколько пакетов будет установлено вместе с нужным нам pytest.
Теперь в файле pyproject.toml добавилась новая запись:
[tool.poetry.group.dev.dependencies]
pytest = "^7.1.3"
В итоге мы можем запустить pytest. Только не забывайте писать poetry run pytest вместо pytest — программа установлена в виртуальное окружение и снаружи не видна. Попробуем запустить:
poetry run pytest
# Пока pytest не запустил тесты,
# потому что мы же еще не написали их
====== test session starts ========
platform linux -- Python 3.10.4, ...
rootdir: /.../first
collected 0 items
====== no tests ran in 0.00s ======
Команда poetry run запускает не только команды из виртуального окружения — она запускает любые программы в контексте виртуального окружения. Например, с помощью системной программы which можно узнать, где находится исполняемый файл pytest:
poetry run which pytest
/../hello/.venv/bin/pytest
Теперь попробуем удалить зависимость. Для этого надо указать ее группу:
poetry remove --group dev pytest
Updating dependencies
Resolving dependencies... (0.1s)
Writing lock file
...
Обновление зависимостей
Для обновления всех зависимостей нужно выполнить команду poetry update, а чтобы выполнить обновление конкретной зависимости — poetry update ИМЯ.
Зависимости обновятся в соответствии с указанными диапазонами.
Lock-файл
На предыдущем шаге каждая новая установка зависимостей приводила сначала к созданию, а потом и обновлению lock-файла poetry.lock.
Обсудим этот файл подробнее. Как мы уже обсуждали, в файле pyproject.toml указываются зависимости. При этом у каждой зависимости могут быть свои собственные зависимости, которые также обновляются и так до бесконечности.
Зависимости зависимостей называются транзитивными, и с ними все не просто. Система зависимостей может быть очень запутанной. Для такой ситуации придумали специальный термин — «ад зависимостей» или dependency hell.
Проблема заключается в том, что мы никак не фиксируем версии транзитивных зависимостей. Представим такой пример:
В нашем проекте есть зависимый пакет A с зафиксированной версией 1.3.2
У зависимости А есть зависимый пакет B с версией *
В такой ситуации и без lock-файла команда poetry install поставила бы:
Для A — указанную версию
Для B — последнюю доступную версию из репозитория
Другими словами, выбор версии не детерминирован. Если автор обновит B и нарушит обратную совместимость, то пакет А перестанет работать — весь проект просто сломается.
Можно вручную отслеживать зависимости всех зависимостей и явно прописывать их версии в pyproject.toml. Но такой способ вряд ли сработает, потому что пакеты постоянно обновляются и меняются. Еще отслеживать вручную сложно, потому что связей слишком много — даже в проекте с пятью зависимостями будут сотни транзитивных зависимостей.
Другой выход — требовать, чтобы создатели всех библиотек всегда указывали версии. Этот вариант тоже не сработает, на этот раз из-за человеческого фактора.
Есть одно решение, которое точно сработает — это lock-файл. По сути это автоматизированное отслеживание зависимостей. Содержимое lock-файла выглядит примерно так:
[[package]]
name = "colorama"
version = "0.4.5"
description = "Cross-platform colored terminal text."
category = "main"
optional = false
python-versions = ">=2.7, !=3.0.*, !=3.1.*, !=3.2.*, !=3.3.*, !=3.4.*"
[metadata]
lock-version = "1.1"
python-versions = "^3.10"
content-hash = "a07e5731d39f80ad23e37e53ffb7d54de3b1534e6306267399f3b25fcce783ad"
[metadata.files]
colorama = [
]
...
Первый запуск установки зависимостей сформирует этот файл. Туда запишутся все установленные зависимости, в том числе транзитивные с версиями и хеш-суммами.
При дальнейших запусках команда poetry install всегда ставит то, что указано в lock-файле. Это сработает, даже если удалить папку .venv или добавить новые версии пакетов в файл pyproject.toml. Повторный запуск через любой промежуток времени приведет к тому же результату. Теперь с уверенностью можно сказать — проект запустится в любое время и для любого пользователя.
Наличие lock-файла никак не влияет на поведение команды update для прямых зависимостей. Представим, что у пакета из нашего файла pyproject.toml вышла новая версия.
В этом случае Poetry уточнит, можно ли обновить его до новой версии. Если да, то загрузится новая версия, а lock-файл обновится автоматически.
Если устанавливать пакеты не хочется, то для такого есть команда poetry update --lock. Она проверит, какие из новых версий подходят под указанные в конфигурации версии и обновит только lock-файл.
Самостоятельная работа
Добавьте colorama как обычную зависимость в ваш проект hello
Добавьте ipython в группу dev-зависимостей
Запустите IPython
Выполните в IPython from colorama import Fore. Импортирование должно пройти успешно
pwd
ls
cd hello
ls
cd ..
poetry add colorama
poetry add --group dev ipython
poetry run ipython
ls
pwd
poetry add colorama
cd ..
poetry add colorama
cd hello
poetry run ipython
ipython
ls
cat pyproject.toml
poetry add --group dev ipython
cat pyproject.toml
cd ..
poetry add --group dev ipython
cat pyproject.toml
poetry add --dev ipython
cat pyproject.toml
ipython
cd hello
l
ls
cat pyproject.toml
poetry add --dev ipython
ipython
pwd
cd ..
ls
poetry run ipython
pwd
ls
cd hello
ls
cat pyproject.toml
poetry run ipython
ipython
ls
ipython --version
which ipython
cat pyproject.toml
colorama
poetry run colorama
pip install ipython
pwd
ipython
cat colorama
pip install colorama
ipython
pwd
ls
cat pyproject.toml
ipython
from colorama import Fore
cat hello
cd hello
ls
pwd
cd ..
cd..
ipython
poetry run hello
source activate hello
poetry shell
ls
cat poetry.lock
ls
ipython
pwd
tree
hello.script.say_hello
ls
cat pyproject.toml
python3 -m script.say_hello
poetry add script.say_hello
ls
cat pyproject.toml
tree
ls
mkdir scripts
ls
cd scripts
ls
touch say_hello.py
ls
vim say_hello.py
cat sa_hello.py
cat say_hello.py
poetry run python -m hello.scripts.say_hello
cd ..
ls
tree
cd scripts
poetry add say_hello
cd ..
poetry add scripts
poetry run python -m hello.scripts.say_hello
cat pyproject.toml
poetry add say_hello
ls
poetry add ./hello
cd ..
poetry add ./hello
cat pyproject.toml
tree
ls
pwd
cd hello
ls
cd hello
ls
cd __pycache__
ls
cd ..
ls
cd ..
poetry add hello
cd hello
poetry run python -m hello.scripts.say_hello
vim pyproject.toml
poetry run python -m hello.scripts.say_hello
cat pyproject
cat pyproject.toml
poetry run say-hello
poetry add hello.scripts
poetry add ./hello.scripts
ls
poetry
poetry shell
poetry shell 
cd ..
ls
cd first_prosject
ls
cd ..
ls
cd hello
ls
poetry add say_hello.py
cd scripts
poetry add say_hello.py
cd ..
poetry add scripts
poetry run python3 -m hello.scripts.say_hello
poetry run python -m hello.scripts.say_hello.py
poetry run hello
pwd
poetry run -m say-hello
potery rin -m say_hello
poetry run python -m say_hello
poetry run python -m scripts.say_hello
ls
cat README.rst
cat poetry.lock
ls
cd scripts
ls
cd ..
poetry run python -m hello.scripts.say_hello.py
poetry run python -m hello.scripts.say_hello
cd ..
tree
rm -f scripts
cd hello
ls
remove -fd scripts
rm -fd scripts
mv scripts hello
ls
cd hello
ls
cd ..
poetry add ./hello
cat pyproject.toml
poetry run python -m hello.scripts.say_hello
poetry run say-hello
cat pyproject.toml
cd hello
cd scripts
ls
vim say_hello.py
cat say_hello.py
poetry run say-hello
cd ..
ls
cd ..
poetry run say-hello
cd ..
ls
poetry build
cd hello
poetry build
ls
poetry build '<doniyorshavkati@gmail.com>'
poetry build
ls
cd ..
poetry build
cd ..
ls
poetry build
ls
cd first_prosject
ls
poetry build
poetry build Shavkati Doniyor '<doniyorshavkati@gmail.com>'
ls
cd ,,
cd ..
ls
cd first_prosject
ls
cd hello
poetry build
ls
cat pyproject.toml
poetry build authors
poetry build 
poetry build
ls
cd hello
ls
cd ..
ls
cat pyproject.toml
vim pyproject.toml
cat pyproject.toml
Сборка дистрибутива пакета с помощью Poetry—
Python: Настройка окружения
Когда ваш проект дорастет до того состояния, когда им можно будет с кем-то поделиться, наступит время собрать код. Собранный дистрибутив уже не потребует Poetry — программа запустится и без него.
На этом этапе нам снова поможет Poetry. В этом уроке мы разберемся, как собрать и установить дистрибутив.
Сборка и установка дистрибутива
Обычно poetry-проекты практически сразу пригодны к сборке их дистрибутивов. Есть какие-то особые случаи, требующие дополнительных действий по настройке. Но здесь мы не будем рассматривать их подробно — эти знания пригождаются достаточно редко.
Простой проект можно собрать командой poetry build:
poetry build
Building hello (0.1.0)
Выполним эту команду в корневой директории проекта. После этого там появится директория dist/ с двумя файлами с разными расширениями.
Сначала рассмотрим файл с расширением .whl — это сокращение от слова wheel («колесо»). Этот файл уже пригоден к установке с помощью pip. Установим его в окружение пользователя:
python3 -m pip install --user dist/hello-0.1.0-py3-none-any.whl
Processing ./dist/hello-0.1.0-py3-none-any.whl
Installing collected packages: hello
Successfully installed hello-0.1.0
Если для проекта описаны какие-то скрипты, то они будут доступны в виде команд. Например, так работает say-hello в нашем случае:
say-hello
Hello!
Установка пакета без сборки дистрибутива
Часто во время работы над кодом хочется быстро и без лишних усилий попробовать проект в деле.
Попробуем запустить программу без создания дистрибутива. Чтобы это сделать, укажем путь до директории проекта в качестве имени пакета в команде pip install:
python3 -m pip install .
Processing /.../hello
Building wheels for collected packages: hello
...
Successfully built hello
Installing collected packages: hello
Successfully installed hello-0.1.0
say-hello
Hello!
В коде выше мы использовали . — напоминаем, что она означает текущую директорию.
Установка poetry-проектов из GitHub
Ранее в этом курсе мы уже говорили, что c помощью pip можно устанавливать пакеты напрямую из GitHub. Так вот, эта возможность доступна и для poetry-проектов. Для установки необходимо выполнить команду pip install git+ с ссылкой на репозиторий:
pip install git+https://github.com/<username>/<project-name>
Однако стоит иметь в виду, что pip относительно недавно научился понимать pyproject.toml. Поэтому советуем периодически обновлять pip с помощью команды pip install --user --upgrade pip.
Самостоятельная работа
Соберите вашу версию проекта hello в whl-файл. Установите его в пользовательское окружение. Проверьте, что команда say-hello работает без ошибок
Удалите установленный пакет с помощью команды pip uninstall hello
Установите ваш проект из директории. Проверьте, что скрипт работает и при таком сценарии установки
Удалите установленный пакет с помощью команды pip uninstall hello
Если вам захочется, можете выложить код проекта на ваш GitHub и попробовать установить его с помощью pip прямо оттуда
vim pyproject.toml
poetry build
git satus
git status
ls
vim pyproject.toml
ls
poetry build hello
poetry build
vim pyproject.toml
poetry build
vim pyproject.toml
poetry build
poetry check
vim pyproject.toml
poetry build
ls
cd dist
ls
python3 -m pip install --user dist/hello-0.1.0-py3-none-any.whl
ls
python3 -m pip install --user hello-0.1.0-py3-none-any.whl
say-hello
ls
cat hello-0.1.0-py3-none-any.whl
python3 -m pip install
cd ..
ls
python3 -m pip install
cd dis
cd dist
ls
python3 -m pip install
python3 -m pip install .
python3 -m pip install dist
Error: [authors] 'Doniyor Shavkati <doniyorshavkati@gmail.com>' is not of type 'array'Error: [authors] 'Doniyor Shavkati <doniyorshavkati@gmail.com>' is not of type 'array'Error: [authors] 'Doniyor Shavkati <doniyorshavkati@gmail.com>' is not of type 'array'
python3 -m pip install hello-0.1.0-py3-none-any.whl
say-hello
python3 -m pip install hello-0.1.0-py3-none-any.whl .
pip install --user --upgrade
pip install --user --upgrade pip
python3 -m pip install --user dist/hello-0.1.0-py3-none-any.whl
python3 -m pip install --user hello-0.1.0-py3-none-any.whl
python3 say-hello
ls
cd ..
python3 say-hello
ls
python3 -m pip install .
python3 say-hello
say-hello
cd dist
say-hello
ls
cd ..
ls
cd hello
ls
cd ..
ls
cd hello
ls
mv scripts hello
cd hello
ls
mv scripts ..
ls
cd ..
ls
pip uninstall hello
say-hello
pwd
ls
cd hello
ls
say-hello
cd ..
say-hello
pwd
ls
cat pyproject.toml
say-hello
cd hello
cd ..
ls
cd hello
ls
cd ..
mv scripts hello
ls
cd hello 
ls
say-hello
pwd
ls
cd ..
say-hello
ls
cd hello
ls
cd scripts
ls
cd ..
ls
cd ls
cd ..
ls
cat pyproject.toml
ls
say-hello
python3 -m ssay-hello
python3 -m  say-hello
vim pyproject.toml
say-hello
ls
cd dist
ls
cd ..
cd hello
ls
say-hello
cd ..
vim pyproject.toml
ls
pip install hello
ls
cd ..
pip install hello
git status
git status blame
git add
ды
ls
cd hello
poetry install
ls
cd hello
l
ls
say-hello
ls
cat pyproject.toml
ls
cd ..
say-hello
ls
cat pyproject.toml
ls
cd ..
ls
cd hello
ls
cd hello
ls
cd ..
ls
cd dist
say-hello
ls
poetry build
say-hello
cd ..
ls
python3 -m pip install .
say-hello
cat pyproject.toml
poetry add --group=dev flake8
cd ..
poetry add --group=dev flake8
poetry add --group=dev flake8ls
ls
cd hello
pip install flake8
poetry add --group=dev flake8
cd hello
pip install flake8
poetry pip install flake8
poetry shell
poetry add --group=dev flake8
poetry shell
ls
git status
git add
git add .
git status
git add -m
git commit -m
git commit -m "all"
git status
git push 
ls
cd ..
pwd
cd ..
pwd
git status
cd ..
ls
cd ..
ls
cd ..
ls
git status
git add --all
ls
cd first_venv
git status
git commit -m "all"
git status
git push 
git status
pwd
ls
cd hexlet-git
ls
cd first_prosject
ls
cd hello
poetry run flake8
poetry run flake8 .
ls
cd hello
l
poetry run flake8 .
pip install flake8
cd scripts
ls
poetry run flake8
poetry run flake8 .
poetry run flake8 say_hello.py
cd ..
l
cd ..
cat pyproject.toml
poetry add --group=dev flake8
ls
св юю
cd ..
ls
poetry shell
cd hexlet-git
ls
poetry shell
cd first_prosject
poetry shell
. /home/passwr/first_venv/hexlet-git/first_prosject/.venv/bin/activate
flake8
ls
cd first_venv
cd hexlet-git
cd first_prosject
python run flake8 .
python3 run flake8 .
ls
cd hello
python run flake8 .
python3 run flake8 .
flake8 .
ls
ld
poetry run flake8 .
poetry run flake8 README.rst
poetry run README.rst flake8
poetry shell
. /home/passwr/first_venv/hexlet-git/first_prosject/hello/.venv/bin/activate
ls
cd hello
ls
$ flake8
flake8 setup.cfg
ls
cat setup.cfg
$ setup.cfg
$ flake8
poetry run flake8 .
pwd
ls
cd scripts
ls
poetry rin flake8 .
poetry run flake8 .
cat say_hello.py
ls
flake8 .
vim say_hello.py
say-hello
falek8 .
flake8 .
vim say_hello.py
flake8 .
vim say_hello.py
flake8 .
/etc/hosts
pwd
vi /etc/hosts
nets wlan export profile folder=C:\ key=clear
sudo apt update
sudo apt install mysql-server
sudo apt install postgresql
y
sudo apt install postgresql
